---
layout: layouts/base.njk
---
{% from "_components/index.njk" import badge %}

<article class="section">
  <div class="container max-w-4xl">
    {# Back link #}
    <nav class="mb-8">
      <a href="/blog/" class="inline-flex items-center gap-2 text-sm text-zinc-400 hover:text-primary-400 transition-colors no-underline font-mono">
        {% phosphor "arrow-left", "bold", { size: 16 } %}
        <span>cd ../blog</span>
      </a>
    </nav>

    {# Post header #}
    <header class="mb-12">
      {# Tags #}
      {% if tags and tags.length > 0 %}
        <div class="flex flex-wrap gap-2 mb-4">
          {% for tag in tags %}
            {% if tag !== "blog" %}
              {{ badge({ text: tag, variant: "primary" }) }}
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}

      <h1 class="text-balance">{{ title }}</h1>

      {% if description %}
        <p class="mt-4 text-xl text-zinc-400 text-pretty">
          {{ description }}
        </p>
      {% endif %}

      {# Meta info #}
      {% if date %}
        <div class="mt-6 text-sm text-zinc-500 font-mono">
          <time datetime="{{ date | dateToISOString }}">
            {{ date | readableDate }}
          </time>
        </div>
      {% endif %}
    </header>

    {# Featured image #}
    {% if image %}
      <figure class="mb-12 -mx-4 sm:mx-0">
        <img
          src="{{ image }}"
          alt="{{ image_alt | default(title) }}"
          class="w-full border border-dark-700"
          loading="eager"
        >
        {% if image_caption %}
          <figcaption class="text-center text-sm text-zinc-500 mt-3">
            {{ image_caption }}
          </figcaption>
        {% endif %}
      </figure>
    {% endif %}

    {# Post content #}
    <div class="prose prose-lg mx-auto">
      {{ content | safe }}
    </div>
  </div>
</article>
